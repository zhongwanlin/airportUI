{"version":3,"sources":["webpack:///./src/pages/statistical/userReport.vue?a8e8","webpack:///./src/pages/statistical/userReport.vue?d292","webpack:///src/pages/statistical/userReport.vue","webpack:///./src/pages/statistical/userReport.vue?6609","webpack:///./src/pages/statistical/userReport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","model","value","searchInfo","callback","$$v","$set","expression","dataPickOption","on","setBeginTime","$event","reflesh","height","isLoading","columns","dataList","count","pageSizeChange","pageRowChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-5914abc8.642b3721.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userReport.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userReport.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"searchWrap\"},[_c('div',{staticClass:\"search\"},[_c('table',[_c('tr',[_c('td',[_vm._v(\"\\n                            区域\\n                            \"),[_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"选择是否满意\"},model:{value:(_vm.searchInfo.satisfiedFlag),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"satisfiedFlag\", $$v)},expression:\"searchInfo.satisfiedFlag\"}},[_c('Option',{attrs:{\"value\":1}},[_vm._v(\"满意\")]),_c('Option',{attrs:{\"value\":2}},[_vm._v(\"不满意\")])],1)],_vm._v(\"\\n                              时间\\n                            \"),[_c('DatePicker',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"daterang\",\"clearable\":\"\",\"options\":_vm.dataPickOption,\"placeholder\":\"请选择时间\"},on:{\"on-change\":_vm.setBeginTime}})],_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t  设备号\\n\\t\\t\\t\\t\\t\\t\\t\"),[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入标题\"},model:{value:(_vm.searchInfo.roleName),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"roleName\", $$v)},expression:\"searchInfo.roleName\"}})],[_c('div',{staticClass:\"searchBtnList\"},[_c('Button',{attrs:{\"icon\":\"ios-refresh-circle\"},on:{\"click\":function($event){return _vm.reflesh(true)}}},[_vm._v(\"刷新\")])],1)]],2)])])])]),_c('div',{staticClass:\"tableList\"},[[_c('Table',{attrs:{\"height\":_vm.height-100,\"stripe\":\"\",\"border\":\"\",\"loading\":_vm.isLoading,\"columns\":_vm.columns,\"data\":_vm.dataList}})]],2),_c('div',{staticClass:\"pageWrap\"},[[_c('Page',{attrs:{\"total\":_vm.count,\"page-size\":50,\"page-size-opts\":[50, 100, 150],\"show-sizer\":\"\",\"showTotal\":\"\"},on:{\"on-change\":_vm.pageSizeChange,\"on-page-size-change\":_vm.pageRowChange}})]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"page\">\n        <div class=\"searchWrap\">\n            <div class=\"search\">\n                <table>\n                    <tr>\n                        <td>\n                            区域\n                            <template>\n                                <Select v-model=\"searchInfo.satisfiedFlag\" clearable placeholder=\"选择是否满意\" style=\"width: 120px;\">\n                                    <Option :value=\"1\">满意</Option>\n                                    <Option :value=\"2\">不满意</Option>\n                                </Select>\n                            </template>\n                            &nbsp;&nbsp;时间\n                            <template>\n                                <DatePicker type=\"daterang\" clearable :options=\"dataPickOption\" @on-change=\"setBeginTime\" placeholder=\"请选择时间\" style=\"width: 120px\"></DatePicker>\n                            </template>\n\t\t\t\t\t\t\t&nbsp;&nbsp;设备号\n\t\t\t\t\t\t\t<template>\n\t\t\t\t\t\t\t    <Input v-model=\"searchInfo.roleName\" clearable placeholder=\"请输入标题\" style=\"width:150px;\"/>\n\t\t\t\t\t\t\t</template>\n                            <template>\n                                <div class=\"searchBtnList\">\n                                    <Button icon=\"ios-refresh-circle\" @click=\"reflesh(true)\">刷新</Button>\n                                </div>\n                            </template>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n\n        <div class=\"tableList\">\n            <template>\n                <Table :height=\"height-100\" stripe border :loading=\"isLoading\" :columns=\"columns\" :data=\"dataList\"></Table>\n            </template>\n        </div>\n        <div class=\"pageWrap\">\n            <template>\n                <Page :total=\"count\" @on-change=\"pageSizeChange\" @on-page-size-change=\"pageRowChange\" :page-size=\"50\" :page-size-opts=\"[50, 100, 150]\" show-sizer showTotal />\n            </template>\n        </div>\n\t\t\n\t\t\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"lostAndFound\",\n    data: () => ({\n        userInfo: null,\n        height: window.innerHeight,\n        isLoading: false,\n        isDetail: false,\n        disable: false,\n        dateInfo: [],\n        count: 0,\n        pageInfo: {\n            pageIndex: 1,\n            pageSize: 50,\n        },\n        searchInfo: {\n            satisfiedFlag: \"\", // 是否满意\n            beginTime: \"\", // 查询开始时间,yyyy-MM-dd\n            endTime: \"\", // 查询结束时间，yyyy-MM-dd\n        },\n\t\titemInfo: {\n\t\t\tid: 0, // 唯一ID，修改信息时必传\n\t\t\tparaId: 0, // 要回复的评价id\n\t\t\tlostRegId: 0, // 报失记录id\n\t\t\tlostUserName: \"\",  // 旅客名称\n\t\t\tuserPhone: \"\", //旅客电话 \n\t\t\tlostUserId: \"\", \n\t\t\tserviceLevel: \"\", \n\t\t\tsatisfiedFlag: \"\", \n\t\t\tclientSuggestion: \"\", \n\t\t\treplyInfo: \"\", \n\t\t\tmodifyUserId: \"\", \n\t\t},\n        columns: [\n            {\n                title: \"序号\",\n                align: \"center\",\n                type: \"index\",\n                width: 60,\n            },\n            {\n                title: \"内容名称\",\n                align: \"center\",\n                key: \"lostUserName\",\n            },\n            {\n                title: \"区域\",\n                align: \"center\",\n                key: \"userPhone\",\n            },\n            {\n                title: \"栏目名称\",\n                align: \"center\",\n                key: \"serviceLevel\",\n            },\n            {\n                title: \"设备号\",\n                align: \"center\",\n                key: \"serviceLevel\",\n            },\n            {\n                title: \"次数\",\n                align: \"center\",\n                key: \"serviceLevel\",\n            },\n        ],\n        areaCodeList: [],\n        dataList: [],\n        dataPickOption: {\n            disabledDate (date) {\n                return date && date.valueOf() > Date.now();\n            }\n        },\n    }),\n    methods: {\n\t\tsetBeginTime(value) {\n\t\t\tlet self = this;\n\t\t\tself.searchInfo.beginTime = value;\n\t\t},\n\t\tsetEndTime(value) {\n\t\t\tlet self = this;\n\t\t\tself.searchInfo.endTime = value;\n\t\t},\n        reflesh(bool){\n            let self = this;\n            self.getLostCustomerEvaluationList(bool);\n        },\n        pageSizeChange(value) {\n            let self = this;\n            self.pageInfo.pageIndex = parseInt(value, 10);\n            self.getLostCustomerEvaluationList(true);\n        },\n        pageRowChange(value) {\n            let self = this;\n            self.pageInfo.pageSize = parseInt(value, 10);\n            self.getLostCustomerEvaluationList(false);\n        },\n        // 获取失物\n        getLostCustomerEvaluationList(bool){\n            let self = this;\n            \n            self.isLoading = true;\n            if (bool == true) {\n                self.pageInfo.pageIndex = 1;\n            }\n            self.axios({\n                method: 'post',\n                headers: self.$utility.setHeader(self.$config.service.evaluationService),\n                url: self.$config.action.getLostCustomerEvaluationList,\n                data: self.$qs.stringify({\n\t\t\t\t\t\"pageNum\": self.pageInfo.pageIndex,\n\t\t\t\t\t\"pageSize\": self.pageInfo.pageSize,\n\t\t\t\t\t\"satisfiedFlag\": self.searchInfo.satisfiedFlag,\n\t\t\t\t\t\"beginTime\": self.searchInfo.beginTime,\n\t\t\t\t\t\"endTime\": self.searchInfo.endTime,\n\t\t\t\t})\n            })\n            .then(function (res) {\n                if(res.data.code=='200') {\n                    self.dataList = res.data.data;\n                    self.count = res.data.count;\n                } else if(res.data.code=='9003') {\n                    self.utility.loginTimeOut(self);\n                } else {\n                    self.$Message.error(res.data.message);\n                }\n                self.isLoading = false;\n            })\n            .catch(function (error) {\n                console.log(error);\n                self.isLoading = false;\n            });\n        },\n\t\tshowNewOrEdit(row){\n\t\t\tlet self = this;\n\t\t\tself.itemInfo = row;\n\t\t\tself.isDetail = true;\n\t\t},\n\t\tsaveLostCustomerEvaluation(){\n\t\t\tlet self = this;\n\t\t\tif(self.itemInfo.replyInfo.trim().length == 0) {\n\t\t\t\tself.$Message.error(\"请输入回复的内容\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself.axios({\n\t\t\t    method: 'post',\n\t\t\t    headers: self.$utility.setHeader(self.$config.service.evaluationService),\n\t\t\t    url: self.$config.action.saveLostCustomerEvaluation,\n\t\t\t    data: self.$qs.stringify({\n\t\t\t\t\tid: self.itemInfo.id||0, // 唯一ID，修改信息时必传\n\t\t\t\t\tparaId: self.itemInfo.paraId||0, // 要回复的评价id\n\t\t\t\t\tlostRegId: self.itemInfo.lostRegId, // 报失记录id\n\t\t\t\t\tlostUserName: self.itemInfo.lostUserName, // 旅客名称\n\t\t\t\t\tuserPhone: self.itemInfo.userPhone, //旅客电话 \n\t\t\t\t\tlostUserId: self.itemInfo.lostUserId, \n\t\t\t\t\tserviceLevel: self.itemInfo.serviceLevel, \n\t\t\t\t\tsatisfiedFlag: self.itemInfo.satisfiedFlag, \n\t\t\t\t\tclientSuggestion: self.itemInfo.clientSuggestion, \n\t\t\t\t\treplyInfo: self.itemInfo.replyInfo, \n\t\t\t\t\tmodifyUserId: self.userInfo.id, \n\t\t\t\t})\n\t\t\t})\n\t\t\t.then(function (res) {\n\t\t\t    if(res.data.code=='200') {\n\t\t\t\t\tself.getLostCustomerEvaluationList(true);\n\t\t\t        self.isDetail = false;\n\t\t\t    } else if(res.data.code=='9003') {\n\t\t\t        self.utility.loginTimeOut(self);\n\t\t\t    } else {\n\t\t\t        self.$Message.error(res.data.message);\n\t\t\t    }\n\t\t\t    self.isLoading = false;\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t    console.log(error);\n\t\t\t    self.isLoading = false;\n\t\t\t});\n\t\t}\n    },\n    created() {\n        let self = this;\n        let userTimeOut = null;\n        self.userInfo = self.$utility.getLocalStorage(\"lostFoundUserInfo\");\n\n        self.getLostCustomerEvaluationList(true);\n\n        self.$watch('searchInfo', function () {\n            clearTimeout(userTimeOut);\n            userTimeOut = setTimeout(() => {\n                self.getLostCustomerEvaluationList(true);\n            }, 200);\n        }, {\n            deep: true\n        });\n    },\n    mounted() {\n        let self = this;\n        let resizeTime = null;\n        window.onresize = function() {\n            clearTimeout(resizeTime);\n            resizeTime = setTimeout(function () {\n                self.height = window.innerHeight;\n            }, 500);\n        };\n    },\n    beforeDestroy(){\n        clearInterval(window.recordTime);\n    }\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/common/unit.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userReport.vue?vue&type=template&id=022c05bc&\"\nimport script from \"./userReport.vue?vue&type=script&lang=js&\"\nexport * from \"./userReport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userReport.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}