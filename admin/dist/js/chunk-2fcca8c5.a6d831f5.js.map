{"version":3,"sources":["webpack:///./src/pages/deviceManage/deviceList.vue?c0c1","webpack:///./src/pages/deviceManage/deviceList.vue?7a5e","webpack:///src/pages/deviceManage/deviceList.vue","webpack:///./src/pages/deviceManage/deviceList.vue?316e","webpack:///./src/pages/deviceManage/deviceList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","model","value","searchInfo","callback","$$v","$set","expression","_l","item","key","id","_s","name","on","showNew","reflesh","height","isLoading","columnsRealTime","realTimeDataList","scopedSlots","_u","fn","ref","row","index","$event","showEdit","deleteAction","dep_status","count","pageSizeChange","pageRowChange","top","isDetail","itemInfo","version","slot","disable","saveAction","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2fcca8c5.a6d831f5.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"searchWrap\"},[_c('div',{staticClass:\"search\"},[_c('table',[_c('tr',[_c('td',[_vm._v(\"\\n                          设备名称\\n                        \"),[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入设备名称\"},model:{value:(_vm.searchInfo.name),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"name\", $$v)},expression:\"searchInfo.name\"}})],_vm._v(\"\\n                          机器码\\n                        \"),[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入机器码\"},model:{value:(_vm.searchInfo.mac_id),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"mac_id\", $$v)},expression:\"searchInfo.mac_id\"}})],_vm._v(\"\\n                          区域\\n                        \"),[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.searchInfo.area_id),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"area_id\", $$v)},expression:\"searchInfo.area_id\"}},_vm._l((_vm.areaList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],_vm._v(\"\\n                          部署状态\\n                        \"),[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.searchInfo.dep_status),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"dep_status\", $$v)},expression:\"searchInfo.dep_status\"}},[_c('Option',{attrs:{\"value\":1}},[_vm._v(\"入场\")]),_c('Option',{attrs:{\"value\":2}},[_vm._v(\"撤场\")]),_c('Option',{attrs:{\"value\":3}},[_vm._v(\"激活\")])],1)],[_c('div',{staticClass:\"searchBtnList\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-add-circle\"},on:{\"click\":_vm.showNew}},[_vm._v(\"新增\")]),_c('Button',{attrs:{\"icon\":\"ios-refresh-circle\"},on:{\"click\":_vm.reflesh}},[_vm._v(\"重置\")])],1)]],2)])])])]),_c('div',{staticClass:\"tableList\"},[[_c('Table',{attrs:{\"height\":_vm.height-100,\"border\":\"\",\"stripe\":\"\",\"loading\":_vm.isLoading,\"columns\":_vm.columnsRealTime,\"data\":_vm.realTimeDataList},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showEdit(row)}}},[_vm._v(\"修改\")]),_vm._v(\"  \\n                    \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteAction(row)}}},[_vm._v(\"删除\")])]}},{key:\"dep_status\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n                    \"+_vm._s(['入场','撤场','激活'][row.dep_status-1])+\"\\n                \")]}}])})]],2),_c('div',{staticClass:\"pageWrap\"},[[_c('Page',{attrs:{\"total\":_vm.count,\"page-size\":50,\"page-size-opts\":[50, 100, 150],\"show-sizer\":\"\",\"showTotal\":\"\"},on:{\"on-change\":_vm.pageSizeChange,\"on-page-size-change\":_vm.pageRowChange}})]],2),[_c('Modal',{staticClass:\"noContentPadding noHeaderModal\",attrs:{\"mask-closable\":false,\"width\":\"30\",\"styles\":{top: '5%'},\"title\":\"角色录入\"},on:{\"on-cancel\":function($event){_vm.isDetail=false}},model:{value:(_vm.isDetail),callback:function ($$v) {_vm.isDetail=$$v},expression:\"isDetail\"}},[_c('div',{staticClass:\"modalTable\"},[_c('div',{staticClass:\"detail\"},[_c('table',[_c('tr',[_c('td',[_c('span',{staticClass:\"request\"},[_vm._v(\"*\")]),_vm._v(\"设备名称：\\n                                \"),_c('div',[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"填写设备名称\"},model:{value:(_vm.itemInfo.name),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"name\", $$v)},expression:\"itemInfo.name\"}})],1)])]),_c('tr',[_c('td',[_vm._v(\"\\n                                机器码：\\n                                \"),_c('div',[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"填写机器码\"},model:{value:(_vm.itemInfo.mac_id),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"mac_id\", $$v)},expression:\"itemInfo.mac_id\"}})],1)])]),_c('tr',[_c('td',[_vm._v(\"\\n                                SDK版本：\\n                                \"),_c('div',[_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选择SDK版本\"},model:{value:(_vm.itemInfo.version),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"version\", $$v)},expression:\"itemInfo.version\"}},_vm._l((_vm.versionList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.version}},[_vm._v(_vm._s(item.version))])}),1)],1)])]),_c('tr',[_c('td',[_vm._v(\"\\n                                所在区域：\\n                                \"),_c('div',[_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选择所在区域\"},model:{value:(_vm.itemInfo.area_id),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"area_id\", $$v)},expression:\"itemInfo.area_id\"}},_vm._l((_vm.areaList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1)])]),_c('tr',[_c('td',[_vm._v(\"\\n                                部署状态：\\n                                \"),_c('div',[_c('Select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选择部署状态\"},model:{value:(_vm.itemInfo.dep_status),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"dep_status\", $$v)},expression:\"itemInfo.dep_status\"}},[_c('Option',{attrs:{\"value\":1}},[_vm._v(\"入场\")]),_c('Option',{attrs:{\"value\":2}},[_vm._v(\"撤场\")]),_c('Option',{attrs:{\"value\":3}},[_vm._v(\"激活\")])],1)],1)])])])])]),_c('div',{staticClass:\"modalFooter\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"default\"},on:{\"click\":function($event){_vm.isDetail=false}}},[_vm._v(\"关闭\")]),_c('Button',{attrs:{\"type\":\"primary\",\"disable\":_vm.disable},on:{\"click\":_vm.saveAction}},[_vm._v(\"提交\")])]],2)])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"page\">\n        <div class=\"searchWrap\">\n            <div class=\"search\">\n                <table>\n                    <tr>\n                        <td>\n                            &nbsp;&nbsp;设备名称\n                            <template>\n                                <Input v-model=\"searchInfo.name\" clearable placeholder=\"请输入设备名称\" style=\"width:200px;\"/>\n                            </template>\n                            &nbsp;&nbsp;机器码\n                            <template>\n                                <Input v-model=\"searchInfo.mac_id\" clearable placeholder=\"请输入机器码\" style=\"width:200px;\"/>\n                            </template>\n                            &nbsp;&nbsp;区域\n                            <template>\n                                <Select v-model=\"searchInfo.area_id\" clearable style=\"width:200px\">\n                                    <Option v-for=\"item in areaList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n                                </Select>\n                            </template>\n                            &nbsp;&nbsp;部署状态\n                            <template>\n                                <Select v-model=\"searchInfo.dep_status\" clearable style=\"width:200px\">\n                                    <!-- 1:入场，2：撤场，3激活 -->\n                                    <Option :value=\"1\">入场</Option>\n                                    <Option :value=\"2\">撤场</Option>\n                                    <Option :value=\"3\">激活</Option>\n                                </Select>\n                            </template>\n                            <template>\n                                <div class=\"searchBtnList\">\n                                    <Button type=\"primary\" icon=\"ios-add-circle\" @click=\"showNew\">新增</Button>\n                                    <Button icon=\"ios-refresh-circle\" @click=\"reflesh\">重置</Button>\n                                </div>\n                            </template>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n\n        <div class=\"tableList\">\n            <template>\n                <Table :height=\"height-100\" border stripe :loading=\"isLoading\" :columns=\"columnsRealTime\" :data=\"realTimeDataList\">\n                    <template slot-scope=\"{ row, index }\" slot=\"action\">\n                        <Button type=\"primary\" size=\"small\" @click=\"showEdit(row)\">修改</Button>&nbsp;&nbsp;\n                        <Button type=\"error\" size=\"small\" @click=\"deleteAction(row)\">删除</Button>\n                    </template>\n                    <template slot-scope=\"{ row, index }\" slot=\"dep_status\">\n                        {{['入场','撤场','激活'][row.dep_status-1]}}\n                    </template>\n                </Table>\n            </template>\n        </div>\n        <div class=\"pageWrap\">\n            <template>\n                <Page :total=\"count\" @on-change=\"pageSizeChange\" @on-page-size-change=\"pageRowChange\" :page-size=\"50\" :page-size-opts=\"[50, 100, 150]\" show-sizer showTotal />\n            </template>\n        </div>\n\n        <template>\n            <Modal v-model=\"isDetail\" class=\"noContentPadding noHeaderModal\" :mask-closable=\"false\" width=\"30\" :styles=\"{top: '5%'}\" title=\"角色录入\" @on-cancel=\"isDetail=false\">\n                <div class=\"modalTable\">\n                    <div class=\"detail\">\n                        <table>\n                            <tr>\n                                <td>\n                                    <span class=\"request\">*</span>设备名称：\n                                    <div><Input v-model=\"itemInfo.name\" placeholder=\"填写设备名称\" style=\"width: 100%\" /></div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    机器码：\n                                    <div><Input v-model=\"itemInfo.mac_id\" placeholder=\"填写机器码\" style=\"width: 100%\" /></div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    SDK版本：\n                                    <div>\n                                        <Select v-model=\"itemInfo.version\" placeholder=\"选择SDK版本\" style=\"width:100%\">\n                                            <Option v-for=\"item in versionList\" :value=\"item.version\" :key=\"item.id\">{{ item.version }}</Option>\n                                        </Select>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    所在区域：\n                                    <div>\n                                        <Select v-model=\"itemInfo.area_id\" placeholder=\"选择所在区域\" style=\"width:100%\">\n                                            <Option v-for=\"item in areaList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n                                        </Select>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    部署状态：\n                                    <div>\n                                        <Select v-model=\"itemInfo.dep_status\" placeholder=\"选择部署状态\" style=\"width:100%\">\n                                            <!-- 1:入场，2：撤场，3激活 -->\n                                            <Option :value=\"1\">入场</Option>\n                                            <Option :value=\"2\">撤场</Option>\n                                            <Option :value=\"3\">激活</Option>\n                                        </Select>\n                                    </div>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </div>\n                <div slot=\"footer\" class=\"modalFooter\">\n                    <template>\n                        <Button type=\"default\" @click=\"isDetail=false\" style=\"margin-right: 5px\">关闭</Button>\n                        <Button type=\"primary\" @click=\"saveAction\" :disable=\"disable\">提交</Button>\n                    </template>\n                </div>\n            </Modal>\n        </template>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"role\",\n    components: { },\n    data: () => ({\n        userInfo: null,\n        height: window.innerHeight,\n        isModalLoading: false,\n        isDetail: false,\n        isFunction: false,\n        isInfo: false,\n        disable: false,\n        isLoading: false,\n        count: 0,\n        pageInfo: {\n            pageIndex: 0,\n            pageSize: 50,\n        },\n        searchInfo: {\n            \"area_id\": \"\",\n            \"dep_status\": \"\",\n            \"id\": \"\",\n            \"mac_id\": \"\",\n            \"name\": \"\",\n            \"version\": \"\",\n        },\n        itemInfo: {\n            \"area_id\": \"\",\n            \"dep_status\": \"\",\n            \"id\": \"\",\n            \"mac_id\": \"\",\n            \"name\": \"\",\n            \"version\": \"\",\n        },\n        columnsRealTime: [\n            {\n                align: \"center\",\n                title: \"序号\",\n                type: \"index\",\n                width: 60,\n            },\n            {\n                title: \"设备名称\",\n                align: \"center\",\n                key: \"name\",\n            },\n            {\n                title: \"所在区域\",\n                align: \"center\",\n                key: \"areaName\",\n            },\n            {\n                title: \"机器码\",\n                align: \"center\",\n                key: \"mac_id\",\n            },\n            {\n                title: \"SDK版本\",\n                align: \"center\",\n                key: \"version\",\n            },\n            {\n                title: \"部署状态\",\n                align: \"center\",\n                key: \"dep_status\",\n                slot: \"dep_status\",\n            },\n            {\n                title: \"创建时间\",\n                align: \"center\",\n                key: \"create_time\",\n            },\n            {\n                title: \"更新时间\",\n                align: \"center\",\n                key: \"update_time\",\n            },\n            {\n                align: \"center\",\n                title: \"操作\",\n                width: 220,\n                slot: 'action'\n            }\n        ],\n        realTimeDataList: [],\n        areaList: [],\n        versionList: []\n    }),\n    methods: {\n        pageSizeChange(value) {\n            var self = this;\n            self.pageInfo.pageIndex = parseInt(value, 10);\n            self.getList(true);\n        },\n        pageRowChange(value) {\n            var self = this;\n            self.pageInfo.pageSize = parseInt(value, 10);\n            self.getList(false);\n        },\n        reflesh(){\n            var self = this;\n            self.getList(true); // 获取角色\n            self.getAreaList(true); // 获取角色\n            self.getVersionList(true); // 获取版本\n        },\n\n        // 获取公司列表\n        getList(bool){\n            var self = this;\n            if (bool == true) {\n                self.isLoading = true;\n                self.pageInfo.pageIndex = 0;\n            }\n            self.axios({\n                method: 'get',\n                headers: {\n                    token: self.userInfo.token\n                },\n                url: self.$config.action.marchineList,\n                params: {\n                    \"pageNum\": self.pageInfo.pageIndex,\n                    \"pageSize\": self.pageInfo.pageSize,\n                    \"area_id\": self.searchInfo.area_id,\n                    \"dep_status\": self.searchInfo.dep_status,\n                    \"mac_id\": self.searchInfo.mac_id,\n                    \"status\": self.searchInfo.status,\n                    \"version\": self.searchInfo.version,\n                    \"name\": self.searchInfo.name,\n                }\n            })\n            .then(function (res) {\n                self.realTimeDataList = res.data.list;\n                self.count = res.data.total;\n                if(res.data.code=='0') {\n                    self.realTimeDataList = res.data.data;\n                    self.count = res.data.count;\n                } else if(res.data.code=='9003') {\n                    self.utility.loginTimeOut(self);\n                } else {\n                    self.$Message.error(res.data.msg);\n                }\n                self.isLoading = false;\n            })\n            .catch(function (error) {\n                console.log(error);\n                self.isLoading = false;\n            });\n        },\n        // 显示新增\n        showNew(){\n            let self = this;\n            self.itemInfo = {\n                \"area_id\": \"\",\n                \"dep_status\": \"\",\n                \"id\": \"\",\n                \"mac_id\": \"\",\n                \"name\": \"\",\n                \"version\": \"\",\n            };\n            self.isDetail = true;\n        },\n        // 显示编辑\n        showEdit(item){\n            let self = this;\n            for(var key in item) {\n                self.itemInfo[key] = item[key];\n            }\n            self.isDetail = true;\n        },\n        // 显示详情\n        showInfo(item){\n            let self = this;\n            for(var key in item) {\n                self.itemInfo[key] = item[key];\n            }\n            self.isInfo = true;\n        },\n        // 保存\n        saveAction(){\n            let self = this;\n\n            if(!self.itemInfo.name) {\n                self.$Message.error(\"请输入设备名称\");\n                return;\n            }\n            if(!self.itemInfo.mac_id) {\n                self.$Message.error(\"请输入机器码\");\n                return;\n            }\n            \n            self.disable = true;\n            self.axios({\n                method: 'post',\n                headers: {\n                    token: self.userInfo.token\n                },\n                url: !self.itemInfo.id?self.$config.action.marchineAdd:self.$config.action.marchineEdit,\n                data: {\n                    \"id\": self.itemInfo.id || 0, \n                    \"area_id\": self.itemInfo.area_id,\n                    \"dep_status\": self.itemInfo.dep_status,\n                    \"mac_id\": self.itemInfo.mac_id,\n                    \"name\": self.itemInfo.name,\n                    \"version\": self.itemInfo.version,\n                }\n            })\n            .then(function (res) {\n                if(res.data.code=='0') {\n                    self.$Message.success(\"提交成功\");\n                    self.getList(false);\n                    self.isDetail = false;\n                    self.itemInfo = {\n                        \"id\": \"\",\n                        \"area_id\": \"\",\n                        \"dep_status\": \"\",\n                        \"mac_id\": \"\",\n                        \"name\": \"\",\n                        \"version\": \"\",\n                    };\n                } else if(res.data.code=='9003') {\n                    self.utility.loginTimeOut(self);\n                } else {\n                    self.$Message.error(res.data.msg);\n                }\n                self.disable = false;\n            })\n            .catch(function (error) {\n                console.log(error);\n                self.disable = false;\n            });\n        },\n        // 删除公司\n        deleteAction(item){\n            let self = this;\n            self.$Modal.confirm({\n                \"title\": \"确定删除\"+ item.name+\"?\",\n                onOk() {\n                    self.axios({\n                        method: 'post',\n                        headers: {\n                            token: self.userInfo.token\n                        },\n                        url: self.$config.action.marchineDelete,\n                        data: {\n                            \"id\": item.id\n                        }\n                    })\n                    .then(function (res) {\n                        if(res.data.code=='0') {\n                            self.$Message.success(\"删除成功\");\n                            self.getList(true);\n                        } else if(res.data.code=='9003') {\n                            self.utility.loginTimeOut(self);\n                        } else {\n                            self.$Message.error(res.data.msg);\n                        }\n                    })\n                    .catch(function (error) {\n                        console.log(error);\n                    });\n                }\n            });\n        },\n        // 获取公司列表\n        getAreaList(bool){\n            var self = this;\n            \n            self.axios({\n                method: 'get',\n                headers: {\n                    token: self.userInfo.token\n                },\n                url: self.$config.action.areaList,\n                params: {\n                    \"pageNum\": 1,\n                    \"pageSize\": 10000,\n                    \"e_name\": \"\",\n                    \"name\": \"\",\n                }\n            })\n            .then(function (res) {\n                self.areaList = res.data.list;\n                self.count = res.data.total;\n                self.isLoading = false;\n            })\n            .catch(function (error) {\n                console.log(error);\n                self.isLoading = false;\n            });\n        },\n        // 获取版本\n        getVersionList(bool){\n            var self = this;\n            if (bool == true) {\n                self.isLoading = true;\n                self.pageInfo.pageIndex = 0;\n            }\n            self.axios({\n                method: 'get',\n                headers: {\n                    token: self.userInfo.token\n                },\n                url: self.$config.action.versionList,\n                params: {\n                    \"pageNum\": 1,\n                    \"pageSize\": 10000,\n                }\n            })\n            .then(function (res) {\n                self.versionList = res.data.list;\n            })\n            .catch(function (error) {\n                console.log(error);\n                self.isLoading = false;\n            });\n        },\n    },\n    created() {\n        let self = this;\n        let userTimeOut = null;\n        self.userInfo = self.$utility.getLocalStorage(\"userInfo\");\n        \n        // self.getList(true); // 获取角色\n        self.getAreaList(true); // 获取角色\n        self.getVersionList(true); // 获取版本\n\n        self.realTimeDataList = [{\n            \"areaName\": \"231234\",\n            \"dep_status\": 1,\n            \"id\": 0,\n            \"mac_id\": \"v029228282828\",\n            \"name\": \"设备名称\",\n            \"version\": \"V0001\",\n            \"create_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n            \"update_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n        },{\n            \"areaName\": \"231234\",\n            \"dep_status\": 1,\n            \"id\": 0,\n            \"mac_id\": \"v029228282828\",\n            \"name\": \"设备名称\",\n            \"version\": \"V0001\",\n            \"create_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n            \"update_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n        },{\n            \"areaName\": \"231234\",\n            \"dep_status\": 1,\n            \"id\": 0,\n            \"mac_id\": \"v029228282828\",\n            \"name\": \"设备名称\",\n            \"version\": \"V0001\",\n            \"create_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n            \"update_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n        },{\n            \"areaName\": \"231234\",\n            \"dep_status\": 1,\n            \"id\": 0,\n            \"mac_id\": \"v029228282828\",\n            \"name\": \"设备名称\",\n            \"version\": \"V0001\",\n            \"create_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n            \"update_time\": self.$utility.getCurrentTimeInfo(new Date())[\"formatDate\"],\n        }];\n\n        self.$watch('searchInfo', function () {\n            clearTimeout(userTimeOut);\n            userTimeOut = setTimeout(() => {\n                self.getList(true);\n            }, 200);\n        }, {\n            deep: true\n        });\n    },\n    mounted() {\n        let self = this;\n        let resizeTime = null;\n        window.onresize = function() {\n            clearTimeout(resizeTime);\n            resizeTime = setTimeout(function () {\n                self.height = window.innerHeight;\n            }, 500);\n        };\n    },\n    beforeDestroy(){\n        clearInterval(window.recordTime);\n    }\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/common/unit.less\";\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deviceList.vue?vue&type=template&id=0b767a50&\"\nimport script from \"./deviceList.vue?vue&type=script&lang=js&\"\nexport * from \"./deviceList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deviceList.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}