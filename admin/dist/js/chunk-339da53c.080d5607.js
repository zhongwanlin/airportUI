(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-339da53c"],{"40f1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"searchWrap"},[i("div",{staticClass:"search"},[i("table",[i("tr",[i("td",[t._v("\n                          参数名称\n                        "),[i("Input",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入角色名称"},model:{value:t.searchInfo.roleName,callback:function(e){t.$set(t.searchInfo,"roleName",e)},expression:"searchInfo.roleName"}})],[i("div",{staticClass:"searchBtnList"},[i("Button",{attrs:{type:"primary",icon:"ios-add-circle"},on:{click:t.showNew}},[t._v("新增")]),i("Button",{attrs:{icon:"ios-refresh-circle"},on:{click:t.reflesh}},[t._v("重置")])],1)]],2)])])])]),i("div",{staticClass:"tableList"},[[i("Table",{attrs:{height:t.height-100,border:"",stripe:"",loading:t.isLoading,columns:t.columnsRealTime,data:t.realTimeDataList},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.row;e.index;return[i("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.showEdit(a)}}},[t._v("修改")]),t._v("  \n                    "),i("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteAction(a)}}},[t._v("删除")])]}}])})]],2),i("div",{staticClass:"pageWrap"},[[i("Page",{attrs:{total:t.count,"page-size":50,"page-size-opts":[50,100,150],"show-sizer":"",showTotal:""},on:{"on-change":t.pageSizeChange,"on-page-size-change":t.pageRowChange}})]],2),[i("Modal",{staticClass:"noContentPadding noHeaderModal",attrs:{"mask-closable":!1,width:"30",styles:{top:"5%"},title:"角色录入"},on:{"on-cancel":function(e){t.isDetail=!1}},model:{value:t.isDetail,callback:function(e){t.isDetail=e},expression:"isDetail"}},[i("div",{staticClass:"modalTable"},[i("div",{staticClass:"detail"},[i("table",[i("tr",[i("td",[i("span",{staticClass:"request"},[t._v("*")]),t._v("配置名称：\n                                "),i("div",[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"填写配置名称"},model:{value:t.itemInfo.name,callback:function(e){t.$set(t.itemInfo,"name",e)},expression:"itemInfo.name"}})],1)])]),i("tr",[i("td",[i("span",{staticClass:"request"},[t._v("*")]),t._v("配置用途：\n                                "),i("div",[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"填写配置用途"},model:{value:t.itemInfo.title,callback:function(e){t.$set(t.itemInfo,"title",e)},expression:"itemInfo.title"}})],1)])]),i("tr",[i("td",[i("span",{staticClass:"request"},[t._v("*")]),t._v("配置值：\n                                "),i("div",[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"填写配置值"},model:{value:t.itemInfo.value,callback:function(e){t.$set(t.itemInfo,"value",e)},expression:"itemInfo.value"}})],1)])]),i("tr",[i("td",[i("span",{staticClass:"request"},[t._v("*")]),t._v("配置描述：\n                                "),i("div",[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"填写配置描述"},model:{value:t.itemInfo.tips,callback:function(e){t.$set(t.itemInfo,"tips",e)},expression:"itemInfo.tips"}})],1)])])])])]),i("div",{staticClass:"modalFooter",attrs:{slot:"footer"},slot:"footer"},[[i("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"default"},on:{click:function(e){t.isDetail=!1}}},[t._v("关闭")]),i("Button",{attrs:{type:"primary",disable:t.disable},on:{click:t.saveAction}},[t._v("提交")])]],2)])]],2)},n=[],o=(i("a450"),{name:"role",components:{},data:function(){return{userInfo:null,height:window.innerHeight,isModalLoading:!1,isDetail:!1,isFunction:!1,isInfo:!1,disable:!1,isLoading:!1,count:0,pageInfo:{pageIndex:0,pageSize:50},searchInfo:{name:""},itemInfo:{id:0,name:"",tips:"",title:"",value:""},columnsRealTime:[{align:"center",title:"序号",type:"index",width:60},{title:"参数名称",align:"left",key:"name"},{title:"用途",align:"left",key:"title"},{title:"配置值",align:"left",key:"value"},{title:"说明",align:"left",key:"tips"},{title:"创建时间",align:"center",key:"create_time"},{title:"更新时间",align:"center",key:"update_time"},{align:"center",title:"操作",width:120,slot:"action"}],realTimeDataList:[]}},methods:{pageSizeChange:function(t){var e=this;e.pageInfo.pageIndex=parseInt(t,10),e.getList(!0)},pageRowChange:function(t){var e=this;e.pageInfo.pageSize=parseInt(t,10),e.getList(!1)},reflesh:function(){var t=this;t.getList(!0)},getList:function(t){var e=this;1==t&&(e.isLoading=!0,e.pageInfo.pageIndex=0),e.axios({method:"get",headers:{token:e.userInfo.token},url:e.$config.action.configList,params:{pageNum:e.pageInfo.pageIndex,pageSize:e.pageInfo.pageSize,name:e.searchInfo.name}}).then((function(t){e.realTimeDataList=t.data.list,e.count=t.data.total,e.isLoading=!1})).catch((function(t){console.log(t),e.isLoading=!1}))},showNew:function(){var t=this;t.itemInfo={id:0,name:"",tips:"",title:"",value:""},t.isDetail=!0},showEdit:function(t){var e=this;for(var i in t)e.itemInfo[i]=t[i];e.isDetail=!0},showInfo:function(t){var e=this;for(var i in t)e.itemInfo[i]=t[i];e.isInfo=!0},saveAction:function(){var t=this;0!=t.itemInfo.name.trim().length?0!=t.itemInfo.title.trim().length?0!=t.itemInfo.value.trim().length?0!=t.itemInfo.tips.trim().length?(t.disable=!0,t.axios({method:"post",headers:{token:t.userInfo.token},url:t.itemInfo.id?t.$config.action.configEdit:t.$config.action.configAdd,data:{id:t.itemInfo.id||0,name:t.itemInfo.name,tips:t.itemInfo.tips,title:t.itemInfo.title,value:t.itemInfo.value}}).then((function(e){"0"==e.data.code?(t.$Message.success("提交成功"),t.getList(!1),t.isDetail=!1,t.itemInfo={id:0,name:"",tips:"",title:"",value:""}):"9003"==e.data.code?t.utility.loginTimeOut(t):t.$Message.error(e.data.msg),t.disable=!1})).catch((function(e){console.log(e),t.disable=!1}))):t.$Message.error("请输入配置描述"):t.$Message.error("请输入配置值"):t.$Message.error("请输入配置用途"):t.$Message.error("请输入配置名称")},deleteAction:function(t){var e=this;e.$Modal.confirm({title:"确定删除"+t.name+"?",onOk:function(){e.axios({method:"post",headers:{token:e.userInfo.token},url:e.$config.action.configDelete,data:{id:t.id}}).then((function(t){"0"==t.data.code?(e.$Message.success("删除成功"),e.getList(!0)):"9003"==t.data.code?e.utility.loginTimeOut(e):e.$Message.error(t.data.msg)})).catch((function(t){console.log(t)}))}})}},created:function(){var t=this,e=null;t.userInfo=t.$utility.getLocalStorage("userInfo"),t.getList(!0),t.$watch("searchInfo",(function(){clearTimeout(e),e=setTimeout((function(){t.getList(!0)}),200)}),{deep:!0})},mounted:function(){var t=this,e=null;window.onresize=function(){clearTimeout(e),e=setTimeout((function(){t.height=window.innerHeight}),500)}},beforeDestroy:function(){clearInterval(window.recordTime)}}),s=o,l=(i("d6a3"),i("5d22")),c=Object(l["a"])(s,a,n,!1,null,null,null);e["default"]=c.exports},"4cc2":function(t,e,i){},d6a3:function(t,e,i){"use strict";i("4cc2")}}]);
//# sourceMappingURL=chunk-339da53c.080d5607.js.map